import{i as x,r as i,l as I,m as D,o as C,c as V,j as t,a as o,w as a,t as l,n as b,q as j,k as r}from"./vendor.ae7442e4.js";import{g as z}from"./getaxios.1d8b7a65.js";import{C as E}from"./ChangeLang.d4c00f69.js";import{_ as S}from"./index.26cad032.js";var B="./assets/login-title.51d0dd44.png";const L={components:{ChangeLang:E},data:function(){return{loading:!1,changepassDialog:!1,changePassInput:{password:"",oldPassword:"",confirmPassword:""},logo:B,email:"crazyzplzpl@163.com",lang:"",tokenid:"",langs:[{value:"ch",label:"\u7B80\u4F53\u4E2D\u6587"},{value:"ja",label:"\u65E5\u672C\u8A9E"},{value:"en",label:"English"}]}},created:function(){this.tokenid=this.$cookies.get("tokenid");var e=this.$cookies.get("lang");(e===null||e===""||e===void 0)&&this.$cookies.set("lang","en"),this.lang=this.$cookies.get("lang"),this.$store.commit("lang/setAllTranslation",this.$cookies.get("lang"))},computed:{myTranslation:function(){return this.$store.state.lang.allTranslation.main},dialogTrans:function(){return this.$store.state.lang.allTranslation.changepass}},watch:{lang:{deep:!0,immediate:!0,handler:function(e,n){}}},methods:{goToPower:function(){this.$router.push("/main/power/myorder")},changePassWord:function(){let e=this;if(this.changePassInput.password===this.changePassInput.oldPassword){this.$notify.error({title:"Error",message:e.dialogTrans.notifyMsg1});return}if(this.changePassInput.password!==this.changePassInput.confirmPassword){this.$notify.error({title:"Error",message:e.dialogTrans.notifyMsg2});return}let n=new FormData;n.append("lang",this.lang),n.append("tokenid",this.tokenid),n.append("password",this.changePassInput.password),n.append("old_password",this.changePassInput.oldPassword),z("http://api.1xch.one/index.php?c=user&a=change_pwd","post",n).then(d=>{let u=d.data;if(u.code!==0){e.$notify.error({title:"Error",message:u.msg});return}e.$notify.success({title:"Success",message:e.dialogTrans.notifyMsg3}),e.loading=!0,setTimeout(()=>{e.$cookies.remove("tokenid")},1e3),e.loading=!1,e.$router.push("/login")}).catch(d=>{e.$notify.error({title:"Error",message:d})})},logout:function(){let e=this,n=new FormData;x({url:"http://api.1xch.one/index.php?c=user&a=logout",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:n}).then(d=>{let u=d.data;if(u.code!==0){e.$notify.error({title:u.msg,message:u.msg});return}e.$cookies.remove("tokenid"),e.$router.push({path:"/login"})}).catch(d=>{e.$notify.error({title:d,message:d})})},selectLang:function(e){this.lang=e,this.$cookies.set("lang",this.lang),this.$store.commit("lang/setAllTranslation",e)}}},U=e=>(b("data-v-74174bf4"),e=e(),j(),e),A={class:"main"},$={class:"main-header"},M={class:"header-left"},N={class:"header-right"},F={style:{margin:"10px"}},R={style:{display:"block"}},W={class:"dialog-input"},q={style:{"font-size":"16px"}},O={class:"dialog-input"},G={style:{"font-size":"16px"}},H={class:"dialog-input"},J={style:{"font-size":"16px"}},K={class:"dialog-footer"},Q={style:{color:"white","margin-right":"10px"}},X={class:"main-body"},Y={class:"main-footer"},Z={class:"footer-left"},ee={class:"image-style"},oe={class:"footer-text-style"},te={class:"footer-text"},se=U(()=>t("span",{class:"footer-text"},"Copyright Digital Offers All Rights Reserved",-1)),ae={class:"footer-right"},ne={class:"footer-right-content"},le={class:"footer-text"},re={style:{"margin-bottom":"15px","margin-top":"15px"}},ie={style:{"margin-bottom":"15px"}};function de(e,n,d,u,ce,s){const _=i("el-image"),f=i("el-avatar"),g=i("el-dropdown-item"),p=i("router-link"),m=i("el-button"),w=i("el-dropdown-menu"),y=i("el-dropdown"),h=i("el-input"),v=i("el-dialog"),k=i("change-lang"),T=i("router-view"),P=I("loading");return D((C(),V("div",A,[t("div",$,[t("div",M,[o(_,{src:e.logo,onClick:s.goToPower},null,8,["src","onClick"])]),t("div",N,[t("div",F,[o(y,{trigger:"click"},{dropdown:a(()=>[o(w,null,{default:a(()=>[o(g,null,{default:a(()=>[r(l(e.email),1)]),_:1}),o(g,{command:"\u5B89\u5168\u4E2D\u5FC3"},{default:a(()=>[o(p,{to:"/main/security",class:"router-link"},{default:a(()=>[r(l(s.myTranslation.userDropdown.security),1)]),_:1})]),_:1}),o(g,{command:"\u6211\u7684\u8D44\u4EA7"},{default:a(()=>[o(p,{to:"/main/treasure",class:"router-link"},{default:a(()=>[r(l(s.myTranslation.userDropdown.treasure),1)]),_:1})]),_:1}),o(g,{command:"\u6211\u7684\u7B97\u529B"},{default:a(()=>[o(p,{to:"/main/power/myorder",class:"router-link"},{default:a(()=>[r(l(s.myTranslation.userDropdown.power),1)]),_:1})]),_:1}),o(g,{command:"changepass"},{default:a(()=>[o(m,{type:"text",style:{color:"grey"},onClick:n[0]||(n[0]=c=>e.changepassDialog=!0)},{default:a(()=>[r(l(s.myTranslation.userDropdown.changepass),1)]),_:1})]),_:1}),o(g,{divided:"",onClick:s.logout},{default:a(()=>[t("span",R,l(s.myTranslation.userDropdown.logout),1)]),_:1},8,["onClick"])]),_:1})]),default:a(()=>[t("div",null,[o(f,{icon:"el-icon-user-solid"})])]),_:1}),o(v,{title:s.myTranslation.userDropdown.changepass,modelValue:e.changepassDialog,"onUpdate:modelValue":n[5]||(n[5]=c=>e.changepassDialog=c)},{footer:a(()=>[t("span",K,[o(m,{onClick:n[4]||(n[4]=c=>e.changepassDialog=!1)},{default:a(()=>[r(l(s.dialogTrans.cancelBtn),1)]),_:1}),o(m,{type:"primary",onClick:s.changePassWord},{default:a(()=>[r(l(s.dialogTrans.confirmBtn),1)]),_:1},8,["onClick"])])]),default:a(()=>[t("div",W,[t("span",q,l(s.dialogTrans.oldPass),1),o(h,{modelValue:e.changePassInput.oldPassword,"onUpdate:modelValue":n[1]||(n[1]=c=>e.changePassInput.oldPassword=c),placeholder:s.dialogTrans.oldPassInput,"show-password":""},null,8,["modelValue","placeholder"])]),t("div",O,[t("span",G,l(s.dialogTrans.newPass),1),o(h,{modelValue:e.changePassInput.password,"onUpdate:modelValue":n[2]||(n[2]=c=>e.changePassInput.password=c),placeholder:s.dialogTrans.newPassInput,"show-password":""},null,8,["modelValue","placeholder"])]),t("div",H,[t("span",J,l(s.dialogTrans.confirmPass),1),o(h,{modelValue:e.changePassInput.confirmPassword,"onUpdate:modelValue":n[3]||(n[3]=c=>e.changePassInput.confirmPassword=c),placeholder:s.dialogTrans.confirmPassInput,"show-password":""},null,8,["modelValue","placeholder"])])]),_:1},8,["title","modelValue"])]),t("div",Q,[o(k,{myLang:e.lang},null,8,["myLang"])])])]),t("div",X,[o(T)]),t("div",Y,[t("div",Z,[t("div",ee,[o(_,{src:e.logo},null,8,["src"])]),t("div",oe,[t("span",te,l(s.myTranslation.footer.contact)+" Support@digitaloffers.io",1),se])]),t("div",ae,[t("div",ne,[t("span",le,l(s.myTranslation.footer.support),1),t("div",re,[o(p,{to:"/main/help",class:"footer-text padding-text router-link"},{default:a(()=>[r(l(s.myTranslation.footer.help),1)]),_:1}),o(p,{to:"/main/law",class:"footer-text padding-text router-link"},{default:a(()=>[r(l(s.myTranslation.footer.law),1)]),_:1})]),t("div",ie,[o(p,{to:"/main/protocol",class:"footer-text padding-text router-link"},{default:a(()=>[r(l(s.myTranslation.footer.protocol),1)]),_:1}),o(p,{to:"/main/aboutus",class:"footer-text padding-text router-link"},{default:a(()=>[r(l(s.myTranslation.footer.about),1)]),_:1})]),o(p,{to:"/main/policy",class:"footer-text padding-text router-link"},{default:a(()=>[r(l(s.myTranslation.footer.policy),1)]),_:1})])])])],512)),[[P,e.loading]])}var he=S(L,[["render",de],["__scopeId","data-v-74174bf4"]]);export{he as default};
